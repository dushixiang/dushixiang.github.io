<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="前言
作为一个称职的打工人，电脑上常备一个Vmware不是什么新鲜事了，但是它和Docker for Windows不兼容往往很让人头大。通过查找资料，发现提供的解决方案大致有三种

先使用Vmware创建一台Linux虚拟机，在这台Linux虚拟机上再安装docker。
配置Vmware作为Docker for Windows的运行平台。
使用微软的Hyper-v来创建虚拟机。

对我而言，第一种不太优雅，第二种配置繁琐，第三种不会用。
直到我发现了vctl这个好东西。
vctl 是什么？

vctl 是一款捆绑在Vmware Workstation Pro 应用程序中的命令行实用程序，仅在 Windows 10 1809 或更高版本上受支持。如果 Workstation Pro 所在主机上的 Windows 操作系统低于 Windows 10 1809，则它不支持 vctl CLI。
简单来说它就是Vmware上的一个工具，可以用它来管理容器，使用命令基本上和docker一致，只需要把docker <cmd>换成vctl <cmd>就足够了。Docker for Windows？不需要。现在容器都交给vctl来管理了。
在使用vctl命令前，和启动docker一样，需要先启动vctl的守护进程。
vctl system start
当需要关闭守护进程时执行
vctl system stop
接下来就是和普通的docker命令一样了。
# 拉取镜像
vctl pull nginx

# 查看镜像
vctl images

# 启动容器
vctl --name some-nginx -d -p 8080:80 nginx

# 查看容器
vctl ps

# 进入容器
vctl exec -it <cid> bash 
更多使用信息可参考Vmware的官方文档 使用vctl命令管理容器"><title>Docker？Vmware？小孩子才做选择，打工人我全都要。</title><link rel="shortcut icon" type=image/x-icon href=/><link rel=stylesheet href=/css/main.51652302d3a998bf7887aed5c2cf89141bbebdf45a2c8f87b0717a3cf4f51c4e53c694c328fb1de78c3a625a1c01f80745bf1f2f42c040647a245cbbb6c2d1d7.css integrity="sha512-UWUjAtOpmL94h67Vws+JFBu+vfRaLI+HsHF6PPT1HE5TxpTDKPsd54w6YlocAfgHRb8fL0LAQGR6JFy7tsLR1w=="></head><body a=auto><main class=page-content aria-label=Content><div class=w><div class=post-meta><a href=/>..</a><p><time datetime="2020-11-17 15:39:00 +0000 UTC">2020-11-17</time></p></div><article><h1>Docker？Vmware？小孩子才做选择，打工人我全都要。</h1><h1 id=前言>前言</h1><p>作为一个称职的打工人，电脑上常备一个Vmware不是什么新鲜事了，但是它和Docker for Windows不兼容往往很让人头大。通过查找资料，发现提供的解决方案大致有三种</p><ol><li>先使用Vmware创建一台Linux虚拟机，在这台Linux虚拟机上再安装docker。</li><li>配置Vmware作为Docker for Windows的运行平台。</li><li>使用微软的Hyper-v来创建虚拟机。</li></ol><p>对我而言，第一种不太优雅，第二种配置繁琐，第三种不会用。</p><p>直到我发现了vctl这个好东西。</p><h1 id=vctl-是什么>vctl 是什么？</h1><blockquote><p>vctl 是一款捆绑在Vmware Workstation Pro 应用程序中的命令行实用程序，仅在 Windows 10 1809 或更高版本上受支持。如果 Workstation Pro 所在主机上的 Windows 操作系统低于 Windows 10 1809，则它不支持 vctl CLI。</p></blockquote><p>简单来说它就是Vmware上的一个工具，可以用它来管理容器，使用命令基本上和docker一致，只需要把<code>docker &lt;cmd></code>换成<code>vctl &lt;cmd></code>就足够了。Docker for Windows？不需要。现在容器都交给vctl来管理了。</p><p>在使用vctl命令前，和启动docker一样，需要先启动vctl的守护进程。</p><pre tabindex=0><code>vctl system start
</code></pre><p>当需要关闭守护进程时执行</p><pre tabindex=0><code>vctl system stop
</code></pre><p>接下来就是和普通的docker命令一样了。</p><pre tabindex=0><code># 拉取镜像
vctl pull nginx

# 查看镜像
vctl images

# 启动容器
vctl --name some-nginx -d -p 8080:80 nginx

# 查看容器
vctl ps

# 进入容器
vctl exec -it &lt;cid&gt; bash 
</code></pre><p>更多使用信息可参考Vmware的官方文档 <a href=https://docs.vmware.com/cn/VMware-Fusion/11/com.vmware.fusion.using.doc/GUID-78E7339F-7294-4F3E-9AD0-1E14C201FA40.html>使用vctl命令管理容器</a></p></article></div></main></body></html>